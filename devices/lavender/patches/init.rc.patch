--- init.rc.orig	2020-10-30 14:30:03.067002020 +0530
+++ init.rc	2020-10-30 14:37:31.474030487 +0530
@@ -27,6 +27,9 @@
     # Set the security context of /postinstall if present.
     restorecon /postinstall
 
+    # use container's cpuacct pseudo-fs instead of host's
+    mount none /acct/lxc/android /acct/bind
+
     mkdir /acct/uid
 
     # memory.pressure_level used by lmkd
@@ -173,6 +176,10 @@
     chmod 0400 /proc/net/fib_trie
 
     # Create cgroup mount points for process groups
+
+    ## use container's cpuctl pseudo-fs instead of host's
+    mount none /dev/cpuctl/lxc/android /dev/cpuctl bind
+
     chown system system /dev/cpuctl
     chown system system /dev/cpuctl/tasks
     chmod 0666 /dev/cpuctl/tasks
@@ -182,6 +189,10 @@
     # sets up initial cpusets for ActivityManager
     # this ensures that the cpusets are present and usable, but the device's
     # init.rc must actually set the correct cpus
+
+    ## use container's cpuset pseudo-fs instead of host's
+    mount none /dev/cpuset/lxc/android /dev/cpuset bind
+
     mkdir /dev/cpuset/foreground
     copy /dev/cpuset/cpus /dev/cpuset/foreground/cpus
     copy /dev/cpuset/mems /dev/cpuset/foreground/mems
@@ -844,14 +855,14 @@
     seclabel u:r:ueventd:s0
     shutdown critical
 
-service console /system/bin/sh
-    class core
-    console
-    disabled
-    user shell
-    group shell log readproc
-    seclabel u:r:shell:s0
-    setenv HOSTNAME console
+# service console /system/bin/sh
+#     class core
+#     console
+#     disabled
+#     user shell
+#     group shell log readproc
+#     seclabel u:r:shell:s0
+#     setenv HOSTNAME console
 
 on property:ro.debuggable=1
     # Give writes to anyone for the trace folder on debug builds.
